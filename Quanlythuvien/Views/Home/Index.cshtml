@model Quanlythuvien.ViewModels.HomeViewModel
@{
    ViewData["Title"] = "Trang chủ";
}

<div class="container py-4">

    <!-- 🔍 Thanh tìm kiếm -->
    <div class="text-center mb-4">
        <h2 class="fw-bold text-primary mb-3">Thư viện Đại học CT</h2>

        <form asp-action="Search" method="get" class="d-flex justify-content-center gap-2">
            <select name="category" class="form-select w-auto">
                <option value="">Tất cả</option>
                <option value="Văn học">Văn học</option>
                <option value="Khoa học">Khoa học</option>
                <option value="Kinh tế">Kinh tế</option>
            </select>
            <input type="text" name="keyword" class="form-control w-50" placeholder="Nhập từ khóa cần tìm..." />
            <button type="submit" class="btn btn-primary">Tìm kiếm</button>
        </form>

        <div class="mt-3">
            <button class="btn btn-outline-primary">Tài liệu mới</button>
            <button class="btn btn-outline-secondary">Tài liệu môn học</button>
            <button class="btn btn-outline-success">Tài liệu giáo dục mở</button>
        </div>
    </div>

    <!-- 🧰 Dịch vụ Thư viện -->
    <div class="container my-5">
        <h2 class="text-center mb-4 fw-bold text-uppercase">Dịch vụ Thư viện</h2>

        <div class="row g-4 justify-content-center">
            @{
                var services = new[]
                {
                        new {Title="Mượn trả, gia hạn tài liệu", Img="https://drm.tmu.edu.vn/file/static/limaimage/demoData/Banner_dv_muon_tra_gia_han.jpg", Des="Tìm hiểu cách mượn, trả và gia hạn tài liệu tại Thư viện."},
                        new {Title="Phát hành giáo trình", Img="https://drm.tmu.edu.vn/file/static/limaimage/demoData/banner_dv_phathanhgiaotrinh.jpg", Des="Dịch vụ cung cấp giáo trình cho sinh viên của TMU."},
                        new {Title="Đăng ký thành viên Thư viện", Img="https://drm.tmu.edu.vn/file/static/limaimage/demoData/image16.png", Des="Đăng ký thành viên Thư viện để sử dụng đầy đủ dịch vụ."},
                        new {Title="Mượn liên thư viện", Img="https://drm.tmu.edu.vn/file/static/limaimage/demoData/image17.png", Des="Sử dụng dịch vụ Mượn Liên thư viện khi tài liệu bạn cần không có tại TMU."}
                        };
            }

            @foreach (var s in services)
            {
                <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                    <div class="item-home-card shadow-sm rounded overflow-hidden">
                        <div class="item-home-card__image">
                            <div class="img-box" style="background-image: url('@s.Img');"></div>
                        </div>
                        <div class="p-3">
                            <h6 class="fw-bold text-primary mb-2">@s.Title</h6>
                            <p class="text-muted small">@s.Des</p>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>

    <!-- 📚 Danh mục Sách -->
    <div class="row">
        <div class="col-lg-9">
            <h4 class="mb-3 text-primary border-bottom pb-2">Danh mục Sách</h4>

          @*   <div class="row g-4">
                @foreach (var book in Model.Book)
                {
                    <div class="col-md-4">
                        <div class="card shadow-sm p-3">
                            <h5 class="fw-bold text-primary">@book.Title</h5>
                            <p><strong>Tác giả:</strong> @string.Join(", ", book.Authors)</p>
                            <p><strong>Thể loại:</strong> @string.Join(", ", book.CateName)</p>
                            <p><strong>NXB:</strong> @book.PublisherName</p>
                            <p><strong>Năm XB:</strong> @book.YearPublished</p>
                            <a asp-action="Details" asp-route-id="@book.BookId" class="btn btn-outline-primary btn-sm">
                                Xem chi tiết
                            </a>
                        </div>
                    </div>
                }
            </div> *@
        </div>

        <!-- 🏆 Top Sách -->
        <div class="col-lg-3 mt-4 mt-lg-0">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-primary text-white fw-bold">
                    Top Sách Được Mượn Nhiều
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Mắt biếc <span class="badge bg-primary">1</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Harry Potter và Hòn đá phù thủy <span class="badge bg-primary">1</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Đắc nhân tâm <span class="badge bg-primary">1</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 📰 Tin tức & Sự kiện -->
    <section id="news-and-events-page" class="mt-5">
        <div class="row">
            <!-- Tin tức -->
            <section class="section-page col-lg-8 col-md-6">
                <div class="section-page__header d-flex justify-content-between align-items-center mb-3">
                    <span class="section-page__header__title fw-bold text-primary">Tin tức</span>
                    <a asp-controller="News" asp-action="Index" class="text-decoration-none text-primary fw-semibold">Xem thêm</a>
                </div>
                @* <div class="row">
                    @foreach (var news in Model.NewList)
                    {
                        <div class="col-12 col-lg-6 mb-4">
                            <div class="item-home-card shadow-sm rounded overflow-hidden h-100">
                                <div class="item-home-card__image">
                                    <div class="img-box" style="background-image: url('@news.ImageUrl');"></div>
                                </div>
                                <div class="p-3">
                                    <div class="item-home-card__time text-muted small">@news.DatePosted.ToString("dd/MM/yyyy")</div>
                                    <div class="item-home-card__title fw-bold text-primary">@news.Title</div>
                                    <div class="item-home-card__des text-muted small">@news.Description</div>
                                </div>
                            </div>
                        </div>
                    }
                </div> *@
            </section>

            <!-- Sự kiện -->
            <section class="section-page col-lg-4 col-md-6">
                <div class="section-page__header d-flex justify-content-between align-items-center mb-3">
                    <span class="section-page__header__title fw-bold text-primary">Sự kiện</span>
                    <a asp-controller="Events" asp-action="Index" class="text-decoration-none text-primary fw-semibold">Xem thêm</a>
                </div>

               @*  <div class="event-list">
                    @foreach (var e in Model.EventList)
                    {
                        <div class="event-item-wrap mb-3">
                            <div class="event-item d-flex align-items-center p-2 border rounded shadow-sm">
                                <div class="event-item__time text-center me-3">
                                    <span class="d-block fw-bold text-primary">TH @e.EventDate.Month</span>
                                    <span class="d-block fs-5">@e.EventDate.Day</span>
                                </div>
                                <div class="event-item__info">
                                    <div class="fw-semibold">@e.Address</div>
                                    <div class="text-muted small">@e.EventDate.ToString("dd/MM/yyyy")</div>
                                </div>
                            </div>
                        </div>
                    }
                </div> *@
            </section>
        </div>
    </section>
</div>

@section Styles {
    <style>
        body {
            background-color: #f9fafc;
        }

        .card:hover {
            transform: translateY(-3px);
            transition: all 0.3s ease;
        }

        .img-box {
            background-size: cover;
            background-position: center;
            height: 200px;
        }

        .item-home-card__title {
            font-size: 1.1rem;
            margin-top: 8px;
        }

        .item-home-card__des {
            font-size: 0.95rem;
            color: #555;
        }

        .item-home-card {
            transition: all 0.3s ease;
            background: #fff;
            height: 100%;
        }

            .item-home-card:hover {
                transform: translateY(-6px);
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15) !important;
            }

        .item-home-card__image .img-box {
            height: 180px;
            background-size: cover;
            background-position: center;
            width: 100%;
        }

        .event-item {
            background: #fff;
            transition: 0.3s;
        }

            .event-item:hover {
                background: #f0f8ff;
                transform: translateY(-2px);
            }

        @@media (max-width: 767px) {
            .item-home-card__image .img-box {
                height: 160px;
            }
        }
    </style>
}
