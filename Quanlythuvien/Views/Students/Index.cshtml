@{
    ViewData["Title"] = "Trang Quản Lý Sinh Viên";
    var availableBooks = ViewBag.AvailableBooks as List<Quanlythuvien.Models.Book> ?? new List<Quanlythuvien.Models.Book>();
}

<div class="container mt-5">
    <h2 class="mb-4">Trang Quản Lý Sinh Viên</h2>

    @if (!string.IsNullOrEmpty(TempData["Message"]?.ToString()))
    {
        <div class="alert alert-success text-center">@TempData["Message"]</div>
    }

    <div class="row">
        <div class="col-md-12">
            <h4 class="mb-3">Sách Có Sẵn Để Mượn</h4>
            <div class="row row-cols-1 row-cols-md-3 g-4">
                @foreach (var book in availableBooks)
                {
                    <div class="col">
                        <div class="card">
                            <img src="@(string.IsNullOrEmpty(book.ImagePath) ? "books/images/default.jpg" : book.ImagePath)" class="card-img-top" alt="@book.Title" style="height: 200px; object-fit: cover;">
                            <div class="card-body">
                                <h5 class="card-title">@book.Title</h5>
                                <a asp-controller="Student" asp-action="BorrowBook" asp-route-bookId="@book.BookId" class="btn btn-success w-100">Đăng Ký Mượn</a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>